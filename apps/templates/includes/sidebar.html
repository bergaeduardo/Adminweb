
{% load has_group %}
{% with user=request.user %}
<!-- Main Sidebar Container -->
  <aside class="main-sidebar sidebar-dark-primary elevation-4">
  <!-- Brand Logo -->
    <a href="/" class="brand-link">
      <img src="/static/assets/img/AdminLTELogo.png" alt="AdminLTE Logo" class="brand-image img-circle elevation-3" style="opacity: .8" data-widget="pushmenu">
      <span class="brand-text font-weight-light">LAKERS Labs
        <!-- <i class="fas fa-arrow-left" data-widget="pushmenu" style="float: right"></i> -->
      </span>
    </a><!-- Sidebar -->
    
    <div class="sidebar">
      <!-- Sidebar user panel (optional) -->      
      <div class="user-panel mt-3 pb-3 mb-3 d-flex">
        <div class="info">
          <a href="{% url 'logout' %}" class="d-block text-warning">
            {{ user.username|upper }}
          </a>
          <a href="/admin/" class="fas fa-user-cog text-succes"> - Admin</a>
        </div>
      </div>
      <!-- Sidebar Search -->
        <div class="form-inline">
          <div class="input-group" data-widget="sidebar-search">
              <input class="form-control form-control-sidebar" type="search" placeholder="Search" aria-label="Search">
              <div class="input-group-append">
                  <button class="btn btn-sidebar">
                      <i class="fas fa-search fa-fw"></i>
                  </button>
              </div>
          </div>
      
      </div>

      <!-- Sidebar Menu -->
      <nav class="mt-2">
        <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="true">
          <!-- Add icons to the links using the .nav-icon class
               with font-awesome or any other icon font library -->
          {% include 'dashboard/sidebar_Dashboard.html' %}
          {% if user|has_group:"admin" %}
            {% include 'reportes/sidebar_reportesAdmin.html' %}
          {% else %}
            {% include 'reportes/sidebar_reportes.html' %} {# Updated path #}
          {% endif %}
          {% include 'herramientas/sidebar_herramientas.html' %} {# Updated path #}
          <li class="nav-header">EXTRAS</li>
          {% include 'extras/sidebar_extras.html' %} {# Updated path #}
          
          </li>
        </ul>
      </nav>      
      <!-- /.sidebar-menu -->
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const menuLinks = document.querySelectorAll('.nav-sidebar a');
        menuLinks.forEach(link => {
          link.addEventListener('click', function() {
            const parentMenu = this.closest('.has-treeview');
            if (parentMenu) {
              setTimeout(() => { parentMenu.classList.remove('menu-open'); }, 1);
            }
          });
        });
      });
    </script>
  <style>
    .main-sidebar {
        width: 280px; /* Ajusta este valor para aumentar o disminuir el ancho */
    }
    .sidebar {
        width: 280px;
    }
    .brand-link {
        width: 280px;
    }
    
</style>
    <!-- /.sidebar -->
    
  </aside>
  {% endwith %}

  